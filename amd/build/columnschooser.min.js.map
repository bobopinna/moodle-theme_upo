{"version":3,"sources":["../src/columnschooser.js"],"names":["define","$","init","document","ready","columnsChooser","length","sidePre","sidePost","columnsChooserIcon","columnsChooserMessage","body","hidestring","data","hidedmessage","showstring","showedmessage","click","hasClass","removeClass","addClass","M","util","set_user_preference","prop","text"],"mappings":"AAsBAA,OAAM,4BAAC,CAAC,QAAD,CAAD,CACN,SAASC,CAAT,CAAY,CACR,MAAO,CACHC,IAAI,CAAE,eAAW,CACbD,CAAC,CAACE,QAAD,CAAD,CAAYC,KAAZ,CAAkB,SAASH,CAAT,CAAY,CAC1B,GAAII,CAAAA,CAAc,CAAGJ,CAAC,CAAC,iBAAD,CAAtB,CACA,GAAII,CAAc,CAACC,MAAnB,CAA2B,IACnBC,CAAAA,CAAO,CAAGN,CAAC,CAAC,wBAAD,CADQ,CAEnBO,CAAQ,CAAGP,CAAC,CAAC,yBAAD,CAFO,CAGnBQ,CAAkB,CAAGR,CAAC,CAAC,sBAAD,CAHH,CAInBS,CAAqB,CAAGT,CAAC,CAAC,yBAAD,CAJN,CAKnBU,CAAI,CAAGV,CAAC,CAAC,MAAD,CALW,CAMnBW,CAAU,CAAGP,CAAc,CAACQ,IAAf,CAAoB,WAApB,CANM,CAOnBC,CAAY,CAAGT,CAAc,CAACQ,IAAf,CAAoB,cAApB,CAPI,CAQnBE,CAAU,CAAGV,CAAc,CAACQ,IAAf,CAAoB,WAApB,CARM,CASnBG,CAAa,CAAGX,CAAc,CAACQ,IAAf,CAAoB,eAApB,CATG,CAWvB,GAAuB,WAAlB,QAAON,CAAAA,CAAR,EAAuD,WAAnB,QAAOC,CAAAA,CAA/C,CAAyE,CACrEH,CAAc,CAACY,KAAf,CAAqB,UAAW,CAC5B,GAAIN,CAAI,CAACO,QAAL,CAAc,cAAd,CAAJ,CAAoC,CAChCP,CAAI,CAACQ,WAAL,CAAiB,cAAjB,EACAV,CAAkB,CAACU,WAAnB,CAA+B,aAA/B,EACAV,CAAkB,CAACW,QAAnB,CAA4B,WAA5B,EACAC,CAAC,CAACC,IAAF,CAAOC,mBAAP,CAA2B,mBAA3B,CAAgD,KAAhD,EACAlB,CAAc,CAACmB,IAAf,CAAoB,OAApB,CAA6BZ,CAA7B,EACAF,CAAqB,CAACe,IAAtB,CAA2BT,CAA3B,EACAN,CAAqB,CAACS,WAAtB,CAAkC,aAAlC,EACAd,CAAc,CAACc,WAAf,CAA2B,aAA3B,EACAd,CAAc,CAACe,QAAf,CAAwB,WAAxB,CACH,CAVD,IAUO,CACHT,CAAI,CAACS,QAAL,CAAc,cAAd,EACAX,CAAkB,CAACU,WAAnB,CAA+B,WAA/B,EACAV,CAAkB,CAACW,QAAnB,CAA4B,aAA5B,EACAC,CAAC,CAACC,IAAF,CAAOC,mBAAP,CAA2B,mBAA3B,CAAgD,IAAhD,EACAlB,CAAc,CAACmB,IAAf,CAAoB,OAApB,CAA6BT,CAA7B,EACAL,CAAqB,CAACe,IAAtB,CAA2BX,CAA3B,EACAJ,CAAqB,CAACU,QAAtB,CAA+B,aAA/B,EACAf,CAAc,CAACc,WAAf,CAA2B,WAA3B,EACAd,CAAc,CAACe,QAAf,CAAwB,aAAxB,CACH,CACJ,CAtBD,CAuBH,CACJ,CACJ,CAvCD,CAwCH,CA1CE,CA4CV,CA9CK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Side columns hide and show.\n *\n * @package    theme_upo\n * @copyright  2020 Roberto Pinna\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery'],\nfunction($) {\n    return {\n        init: function() {\n            $(document).ready(function($) {\n                var columnsChooser = $('#columnschooser');\n                if (columnsChooser.length) {\n                    var sidePre = $('#block-region-side-pre');\n                    var sidePost = $('#block-region-side-post');\n                    var columnsChooserIcon = $('#columnschooser i.fa');\n                    var columnsChooserMessage = $('#columnschooser-message');\n                    var body = $('body');\n                    var hidestring = columnsChooser.data('hidetitle');\n                    var hidedmessage = columnsChooser.data('hidedmessage');\n                    var showstring = columnsChooser.data('showtitle');\n                    var showedmessage = columnsChooser.data('showedmessage');\n\n                    if ((typeof sidePre != 'undefined') || (typeof sidePost != 'undefined')) {\n                        columnsChooser.click(function() {\n                            if (body.hasClass('columnshided') ) { // Columns not shown.\n                                body.removeClass('columnshided');\n                                columnsChooserIcon.removeClass('fa-compress');\n                                columnsChooserIcon.addClass('fa-expand');\n                                M.util.set_user_preference('theme_upo_columns', 'yes');\n                                columnsChooser.prop('title', hidestring);\n                                columnsChooserMessage.text(showedmessage);\n                                columnsChooserMessage.removeClass('fulldisplay');\n                                columnsChooser.removeClass('btn-warning');\n                                columnsChooser.addClass('btn-light');\n                            } else {\n                                body.addClass('columnshided');\n                                columnsChooserIcon.removeClass('fa-expand');\n                                columnsChooserIcon.addClass('fa-compress');\n                                M.util.set_user_preference('theme_upo_columns', 'no');\n                                columnsChooser.prop('title', showstring);\n                                columnsChooserMessage.text(hidedmessage);\n                                columnsChooserMessage.addClass('fulldisplay');\n                                columnsChooser.removeClass('btn-light');\n                                columnsChooser.addClass('btn-warning');\n                            }\n                        });\n                    }\n                }\n            });\n        }\n    };\n});\n"],"file":"columnschooser.min.js"}