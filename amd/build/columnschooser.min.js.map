{"version":3,"sources":["../src/columnschooser.js"],"names":["define","$","init","document","ready","columnsChooser","length","sidePre","sidePost","columnsChooserIcon","body","hidestring","data","showstring","click","hasClass","removeClass","addClass","M","util","set_user_preference","prop"],"mappings":"AAsBAA,OAAM,4BAAC,CAAC,QAAD,CAAD,CACN,SAASC,CAAT,CAAY,CACR,MAAO,CACHC,IAAI,CAAE,eAAW,CACbD,CAAC,CAACE,QAAD,CAAD,CAAYC,KAAZ,CAAkB,SAASH,CAAT,CAAY,CAC1B,GAAII,CAAAA,CAAc,CAAGJ,CAAC,CAAC,iBAAD,CAAtB,CACA,GAAII,CAAc,CAACC,MAAnB,CAA2B,IACnBC,CAAAA,CAAO,CAAGN,CAAC,CAAC,wBAAD,CADQ,CAEnBO,CAAQ,CAAGP,CAAC,CAAC,yBAAD,CAFO,CAGnBQ,CAAkB,CAAGR,CAAC,CAAC,sBAAD,CAHH,CAInBS,CAAI,CAAGT,CAAC,CAAC,MAAD,CAJW,CAKnBU,CAAU,CAAGN,CAAc,CAACO,IAAf,CAAoB,WAApB,CALM,CAMnBC,CAAU,CAAGR,CAAc,CAACO,IAAf,CAAoB,WAApB,CANM,CAQvB,GAAuB,WAAlB,QAAOL,CAAAA,CAAR,EAAuD,WAAnB,QAAOC,CAAAA,CAA/C,CAAyE,CACrEH,CAAc,CAACS,KAAf,CAAqB,UAAW,CAC5B,GAAIJ,CAAI,CAACK,QAAL,CAAc,cAAd,CAAJ,CAAoC,CAChCL,CAAI,CAACM,WAAL,CAAiB,cAAjB,EACAP,CAAkB,CAACO,WAAnB,CAA+B,aAA/B,EACAP,CAAkB,CAACQ,QAAnB,CAA4B,WAA5B,EACAC,CAAC,CAACC,IAAF,CAAOC,mBAAP,CAA2B,mBAA3B,CAAgD,KAAhD,EACAf,CAAc,CAACgB,IAAf,CAAoB,OAApB,CAA6BV,CAA7B,CACH,CAND,IAMO,CACHD,CAAI,CAACO,QAAL,CAAc,cAAd,EACAR,CAAkB,CAACO,WAAnB,CAA+B,WAA/B,EACAP,CAAkB,CAACQ,QAAnB,CAA4B,aAA5B,EACAC,CAAC,CAACC,IAAF,CAAOC,mBAAP,CAA2B,mBAA3B,CAAgD,IAAhD,EACAf,CAAc,CAACgB,IAAf,CAAoB,OAApB,CAA6BR,CAA7B,CACH,CACJ,CAdD,CAeH,CACJ,CACJ,CA5BD,CA6BH,CA/BE,CAiCV,CAnCK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Side columns hide and show.\n *\n * @package    theme_upo\n * @copyright  2020 Roberto Pinna\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery'],\nfunction($) {\n    return {\n        init: function() {\n            $(document).ready(function($) {\n                var columnsChooser = $('#columnschooser');\n                if (columnsChooser.length) {\n                    var sidePre = $('#block-region-side-pre');\n                    var sidePost = $('#block-region-side-post');\n                    var columnsChooserIcon = $('#columnschooser i.fa');\n                    var body = $('body');\n                    var hidestring = columnsChooser.data('hidetitle');\n                    var showstring = columnsChooser.data('showtitle');\n\n                    if ((typeof sidePre != 'undefined') || (typeof sidePost != 'undefined')) {\n                        columnsChooser.click(function() {\n                            if (body.hasClass('columnshided') ) { // Columns not shown.\n                                body.removeClass('columnshided');\n                                columnsChooserIcon.removeClass('fa-compress');\n                                columnsChooserIcon.addClass('fa-expand');\n                                M.util.set_user_preference('theme_upo_columns', 'yes');\n                                columnsChooser.prop('title', hidestring);\n                            } else {\n                                body.addClass('columnshided');\n                                columnsChooserIcon.removeClass('fa-expand');\n                                columnsChooserIcon.addClass('fa-compress');\n                                M.util.set_user_preference('theme_upo_columns', 'no');\n                                columnsChooser.prop('title', showstring);\n                            }\n                        });\n                    }\n                }\n            });\n        }\n    };\n});\n"],"file":"columnschooser.min.js"}